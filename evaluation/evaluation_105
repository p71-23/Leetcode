#include<stdio.h>
#include<stdlib.h>
#include<time.h>

struct TreeNode{
  int val;
  struct TreeNode* left;
  struct TreeNode* right;
};

//这里替换成用户自己的代码
struct TreeNode* buildTree(int* preorder, int preorderSize, int* inorder, int inorderSize){
    if(preorderSize==0||inorderSize==0)
        return NULL;
    struct TreeNode* root=(struct TreeNode*)malloc(sizeof(struct TreeNode));
    root->val=preorder[0];
    int i=0;
    for(i=0;i<inorderSize;i++)
    {
        if(inorder[i]==preorder[0])
            break;
    }
    root->left=buildTree(preorder+1,i,inorder,i);
    root->right=buildTree(preorder+i+1,preorderSize-i-1,inorder+i+1,preorderSize-i-1);
    return root;
}
double getTimestamp(){
  return (double)clock()/CLOCKS_PER_SEC;}

int main(){
  //测试样例
  int preorder[]={3,9,20,15,7};
  int inorder[]={9,3,15,20,7};
  int preorderSize=sizeof(preorder)/sizeof(preorder[0]);
  int inorderSize=sizeof(inorder)/sizeof(inorder[0]);
  double startTime=getTimestamp();
  //调用用户所构造的函数
  struct TreeNode* root=buildTree(preorder,preorderSize,inorder,inorderSize);
  //记录开始时间和结束时间
  double endTime=getTimestamp();
  double duration=endTime-startTime;
  printf("运行时间：%.6f秒\n",duration);
  if(root->val!=3)
    printf("Test Failed!\n");
  else
    printf("Test Passed!\n");
  return 0;
}

